<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rev="made" href="mailto:esr@snark.thyrsus.com" />
<meta name="description"
content="Known bugs and to-do items in fetchmail" />
<meta name="keywords" content="fetchmail, POP3, IMAP, bugs" />
<title>Fetchmail Bugs and To-Do Items</title>
<style type="text/css">
/*<![CDATA[*/
 h1.c1 {text-align: center}
/*]]>*/
</style>
</head>
<body>
<table width="100%" cellpadding="0" summary="Canned page header">
<tr>
<td width="30%">Back to <a href="/~esr">Eric's Home Page</a></td>
<td width="30%" align="center">Up to <a href="/~esr/sitemap.html">Site Map</a></td>
<td width="30%" align="right">$Date: 2003/10/16 17:59:42 $</td>
</tr>
</table>

<hr />
<h1 class="c1">Fetchmail Bugs and To-Do Items</h1>

<p>I try to respond to urgent bug reports in a timely way. But
fetchmail is now pretty mature and I have many other projects, so I
don't personally chase obscure or marginal problems. Help with any
of these will be cheerfully accepted.</p>

<p>Feature request from "Ralf G. R. Bergs" <rabe@RWTH-Aachen.DE> "When
fetchmail downloads mail and Exim+SpamAssassin detecs an incoming
message as spam, fetchmail tries to bounce it. Unfortunately it uses
an incorrect hostname as part of the sender address (I've an internal
LAN with private hostnames, plus an official IP address and hostname,
and fetchmail picks the internal name of my host.) So I'd like to have
a config statement that allows me to explicitly set a senderaddress
for bounce messages."

<p>POP3 can't presently distinguish a wedged or down server from an
authentication failure. Possible fix: after issuing a PASS command.
wait 300 (xx) seconds for a "-ERR" or a "+OK" . If nothing comes
back, retry at the next poll event and generate no errors. If we
get an -ERR then log an authentication failure.</p>

<p>It has been reported that multidrop name matching fails when the
name to be matched contains a Latin-1 umlaut. Dollars to doughnuts
this is some kind of character sign-extension problem. Trouble is,
it's very likely in the BIND libraries. Someone should go in with a
debugger and check this.</p>

<p>In the SSL support, add authentication of Certifying Authority
(Is this a Certifying Authority we recognize?).</p>

<p>Debian wishlist item 181157: ssl key learning for self-signed certificates.</p>

<p>Laszlo Vecsey writes: "I believe qmail uses a technique of
writing temporary files to nfs, and then moving them into place to
ensure that they're written. Actually a hardlink is made to the
temporary file and the destination name in a new directory, then
the first one is unlinked.. maybe a combination of this will help
with the fetchmail lock file."</p>

<p>Move everything to using service strings rather that port
numbers, so we can get rid of ENABLE_INET6 everywhere but in
SockOpen (this will get rid of the kluge in rcfile_y.y).</p>

<p>John Summerfield suggests that specifying a localname containing
@ ought to be treated as an smtpname option, with the domain part
removed for other purposes such as local-address matching.</p>

<p>Maybe refuse multidrop configuration unless "envelope" is _explicitly_
configured (and tell the user he needs to configure the envelope
option) and change the envelope default to nil.  This would 
prevent a significant class of shoot-self-in-foot problems.</p>

<p>Given the above change, perhaps treat a delivery as "temporarily
failed" (leaving the message on the server, not putting it into
.fetchids) when the header listed in the "envelope" option is not
found.  (This is so you don't lose mail if you configure the wrong
envelope header.)</p>

<p>The <a
href="http://bugs.debian.org/cgi-bin/pkgreport.cgi?pkg=fetchmail&amp;archive=no">
Debian bug-tracking page for fetchmail</a> lists other bug
reports.</p>

<hr />
<table width="100%" cellpadding="0" summary="Canned page footer">
<tr>
<td width="30%">Back to <a href="/~esr">Eric's Home Page</a></td>
<td width="30%" align="center">Up to <a href="/~esr/sitemap.html">Site Map</a></td>
<td width="30%" align="right">$Date: 2003/10/16 17:59:42 $</td>
</tr>
</table>

<br clear="left" />
<address>Eric S. Raymond <a href="mailto:esr@thyrsus.com">&lt;esr@thyrsus.com&gt;</a></address>
</body>
</html>

